<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Prototype</title>
  </head>
  <body>
    <form id="login">
      id: <input type="text" name="userId">
      passwd: <input type="password" name="userPassword">
      <button type="submit">로그인</button>
    </form>
    <script>
      function myFunction() {
        var x =document.getElementsById("login");
        var userId=x.userId.value;
        var userPassword=x.userPassword.value;
        console.log(userId)
        const Url = 'http://localhost:8081/user/sign-in' //현재 이상태는 로컬 호스트 환경 전용이고, http://localhost:8081 이부분만 aws서버가 올라오면 변경하면 된다.
        const Data = {
          userId:userId,
          userPassword:userPassword,
        }

        const othePram={
          headers: {
            'content-type': 'application/json',
          },
          body: JSON.stringify({
            userId: userId,
            userPassword: userPassword,
          }),
          method: 'POST',
        }
        console.log(otherPram)
        fetch(Url, othePram)
        .then((data)=>{return data.json()})
        .then((res)=>{console.log(res)
        if(res.code.status==1200) {
          location.href='test.html'
        }
      })
        .catch((error)=>console.log(error))
      }

      myFunction();
    </script>
  </body>
</html>